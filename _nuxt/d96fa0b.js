(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{400:function(e,t,r){var content=r(434);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("3deed014",content,!0,{sourceMap:!1})},433:function(e,t,r){"use strict";r(400)},434:function(e,t,r){var n=r(18)(!1);n.push([e.i,"form[data-v-0e663aae]{width:400px;margin:3rem auto auto}button[data-v-0e663aae]{width:100%}",""]),e.exports=n},457:function(e,t,r){"use strict";r.r(t);var n=r(9),o=(r(48),{layout:"dashboard",asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l,m,c,d,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params,n=e.$axios,o=e.store,l=e.error,m=r.userId,t.prev=2,c={Authorization:"Bearer ".concat(o.getters.token)},t.next=6,n.$get("/users/".concat(m),{headers:c});case 6:return d=t.sent,t.next=9,n.$get("/users/roles");case 9:return v=t.sent,t.abrupt("return",{userId:o.state.user.id,token:o.getters.token,agent:d,agentId:m,firstname:d.firstname,lastname:d.lastname,phone:d.phone,email:d.email,role:d.role,roles:v});case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",l(t.t0));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})))()},head:function(){return{title:"Agent ".concat(this.agent.userId," — Dashboard eCollectivités")}},methods:{updateInfo:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={Authorization:"Bearer ".concat(e.token)},t.next=4,e.$axios.$post("/users/".concat(e.agent.userId,"/update"),{firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone},{headers:r});case 4:t.sent&&e.$toast.success("Utilisateur modifié avec succès!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.$toast.error("Une erreur est survenue. Veuillez réessayer plus tard.");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}}),l=(r(433),r(8)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage-agent--wrapper"},[t("h1",[t("nuxt-link",{attrs:{to:"/dashboard/admin/gerer-agent"}},[t("ion-icon",{attrs:{name:"arrow-back"}})],1),e._v("\n    "+e._s(e.firstname+" "+e.lastname)+"\n  ")],1),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.updateInfo()}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"agent-id"}},[e._v("ID :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.agentId,expression:"agentId"}],attrs:{id:"agent-id",type:"text",disabled:""},domProps:{value:e.agentId},on:{input:function(t){t.target.composing||(e.agentId=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"lastname"}},[e._v("Nom :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lastname,expression:"lastname"}],attrs:{id:"lastname",type:"text",required:""},domProps:{value:e.lastname},on:{input:function(t){t.target.composing||(e.lastname=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"firstname"}},[e._v("Prénoms :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.firstname,expression:"firstname"}],attrs:{id:"firstname",type:"text",required:""},domProps:{value:e.firstname},on:{input:function(t){t.target.composing||(e.firstname=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"email"}},[e._v("Email :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"phone"}},[e._v("Téléphone :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{id:"phone",type:"tel"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),t("button",{attrs:{type:"submit"}},[e._v("Modifier")])])])}),[],!1,null,"0e663aae",null);t.default=component.exports}}]);