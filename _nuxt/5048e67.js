(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(t,e,o){t.exports=o.p+"img/logo-large.a37129a.png"},133:function(t,e,o){"use strict";o.r(e);var n={},r=(o(316),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("footer",[e("div",{staticClass:"footer--wrapper"},[e("div",{staticClass:"footer-logo"},[e("nuxt-link",{attrs:{to:"/"}},[e("img",{staticClass:"logo",attrs:{src:o(112),alt:"Logo eCollectivités"}})])],1),t._v(" "),e("div",{staticClass:"footer-links"},[e("nuxt-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Accueil")]),t._v(" "),e("nuxt-link",{staticClass:"nav-link",attrs:{to:"/a-propos"}},[t._v("À propos")]),t._v(" "),e("nuxt-link",{staticClass:"nav-link",attrs:{to:"/nous-contacter"}},[t._v("Nous contacter")])],1)]),t._v(" "),t._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"footer-legal"},[t("p",[this._v("© 2022 eCollectivités. Tous droits réservés.")])])}],!1,null,"ebe5f1a4",null);e.default=component.exports},188:function(t,e,o){var content=o(314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("84682514",content,!0,{sourceMap:!1})},189:function(t,e,o){var content=o(317);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("97effacc",content,!0,{sourceMap:!1})},190:function(t,e,o){var content=o(319);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("9a26a74c",content,!0,{sourceMap:!1})},191:function(t,e,o){var content=o(322);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("6def079e",content,!0,{sourceMap:!1})},192:function(t,e,o){var content=o(324);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("6a1f6724",content,!0,{sourceMap:!1})},193:function(t,e,o){var content=o(326);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("61fe4d7d",content,!0,{sourceMap:!1})},194:function(t,e,o){var content=o(328);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("08448b99",content,!0,{sourceMap:!1})},195:function(t,e,o){var content=o(330);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("66d81d1c",content,!0,{sourceMap:!1})},196:function(t,e,o){var content=o(332);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("d26ffff2",content,!0,{sourceMap:!1})},197:function(t,e,o){var content=o(334);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("5ce7383e",content,!0,{sourceMap:!1})},212:function(t,e,o){"use strict";var n={},r=(o(313),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"wrapper"},[e("Nuxt",{staticClass:"main"}),t._v(" "),e("div",{staticClass:"side-hero"})],1),t._v(" "),e("TheFooter")],1)}),[],!1,null,"34a35dec",null);e.a=component.exports;installComponents(component,{TheFooter:o(133).default})},213:function(t,e,o){"use strict";var n={},r=(o(318),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard--wrapper"},[e("DashboardSidebar"),t._v(" "),e("div",{staticClass:"dashboard--main"},[e("DashboardNavbar"),t._v(" "),e("Nuxt",{staticClass:"dashboard--content"})],1)],1)}),[],!1,null,"92659e9e",null);e.a=component.exports;installComponents(component,{DashboardSidebar:o(353).default,DashboardNavbar:o(354).default})},214:function(t,e,o){"use strict";var n={},r=(o(325),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("header",[e("nav",[e("nuxt-link",{attrs:{to:"/"}},[e("img",{staticClass:"logo",attrs:{src:o(112),alt:"Logo eCollectivités"}})])],1)]),t._v(" "),e("Nuxt"),t._v(" "),e("TheFooter")],1)}),[],!1,null,"4104eaf0",null);e.a=component.exports;installComponents(component,{TheFooter:o(133).default})},215:function(t,e,o){"use strict";var n={},r=o(8),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("TheNavbar"),t._v(" "),e("Nuxt"),t._v(" "),e("TheFooter")],1)}),[],!1,null,"303cdc32",null);e.a=component.exports;installComponents(component,{TheNavbar:o(355).default,TheFooter:o(133).default})},219:function(t,e,o){o(220),t.exports=o(221)},260:function(t,e,o){"use strict";o.r(e);var n=o(9);o(48),o(216),o(11),o(129),o(68);function r(){return(r=Object(n.a)(regeneratorRuntime.mark((function t(e){var o,n,r,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.store,n=e.redirect,r=e.error,!f(d=e.route)||o.getters.isLoggedIn){t.next=5;break}n("/connexion"),t.next=21;break;case 5:if(!c(d)||o.getters.isLoggedIn){t.next=9;break}n("/dashboard/connexion"),t.next=21;break;case 9:if(!o.getters.isLoggedIn){t.next=21;break}if(t.t0=o.state.user,t.t0){t.next=15;break}return t.next=14,o.dispatch("fetchUser",{token:o.getters.token});case 14:t.t0=t.sent;case 15:if(null!==(m=t.t0)&&!1!==m||(o.dispatch("logout"),n("/connexion")),!c(d)||m.isAgent){t.next=19;break}return t.abrupt("return",r({statusCode:403,message:"Seuls les agents peuvent accéder à cette page"}));case 19:if(!l(d)||m.isAdmin){t.next=21;break}return t.abrupt("return",r({statusCode:403,message:"Seuls les administrateurs peuvent accéder à cette page"}));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return["/mon-compte"].find((function(e){return t.path.startsWith(e)}))}function c(t){return!1===["/dashboard/connexion"].includes(t.path)&&["/dashboard"].find((function(e){return t.path.startsWith(e)}))}function l(t){return["/dashboard/admin"].find((function(e){return t.path.startsWith(e)}))}e.default=function(t){return r.apply(this,arguments)}},285:function(t,e,o){var content=o(286);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("ce3188a8",content,!0,{sourceMap:!1})},286:function(t,e,o){var n=o(18)(!1);n.push([t.i,'*{box-sizing:border-box}body,html{margin:0;width:100vw;height:100vh;overflow-x:hidden;font-family:"Roboto",sans-serif}a{text-decoration:none;color:unset;cursor:pointer}.bold,label{font-weight:700}label{display:block;margin-bottom:.25rem}input{width:100%;padding:.5rem;margin:.5rem 0 1rem;font-size:1rem}input:disabled{cursor:not-allowed}select{background-color:transparent;border:1px solid;border-radius:3px;box-shadow:none;padding:.5rem;font-size:1rem;font-family:"Roboto",sans-serif;width:100%}select:focus{border-color:#e61400;outline:0}.form-group{margin:1rem 0}button,input[type=submit]{background:#ff5140;color:#fff;transition:background .25s ease;border-radius:3px;border:none;margin:0;padding:.75rem 1rem;text-align:center;font-weight:700;font-size:1rem;cursor:pointer}button:focus,button:hover,input[type=submit]:focus,input[type=submit]:hover{background:#e61400}table{width:100%;border-collapse:collapse}thead{font-weight:700}td{border:1px solid #aaa;padding:1rem}ion-icon,ion-icon+span{vertical-align:middle}ion-icon+span{display:inline-block}',""]),t.exports=n},287:function(t,e,o){var content=o(288);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(19).default)("1cf1be65",content,!0,{sourceMap:!1})},288:function(t,e,o){var n=o(18),r=o(138),f=o(289),c=o(290),l=o(291),d=o(292),m=o(293),v=o(294),h=o(295),w=o(296),y=o(297),x=o(298),k=o(299),_=o(300),O=o(301),j=o(302),C=o(303),R=o(304),M=o(305),A=o(306),I=o(307),P=o(308),S=o(309),D=o(310),L=o(311),z=o(312),B=n(!1),N=r(f),T=r(c),E=r(l),$=r(d),F=r(m),U=r(v),G=r(h),V=r(w),W=r(y),J=r(x),H=r(k),K=r(_),Q=r(O),X=r(j),Y=r(C),Z=r(R),tt=r(M),et=r(A),ot=r(I),nt=r(P),at=r(S),it=r(D),st=r(L),ut=r(z);B.push([t.i,'@font-face{font-family:"Barlow Condensed";font-style:normal;font-weight:700;font-display:swap;src:url('+N+') format("woff2");unicode-range:u+0102-0103,u+0110-0111,u+0128-0129,u+0168-0169,u+01a0-01a1,u+01af-01b0,u+1ea0-1ef9,u+20ab}@font-face{font-family:"Barlow Condensed";font-style:normal;font-weight:700;font-display:swap;src:url('+T+') format("woff2");unicode-range:u+0100-024f,u+0259,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-family:"Barlow Condensed";font-style:normal;font-weight:700;font-display:swap;src:url('+E+') format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+$+') format("woff2");unicode-range:u+0460-052f,u+1c80-1c88,u+20b4,u+2de0-2dff,u+a640-a69f,u+fe2e-fe2f}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+F+') format("woff2");unicode-range:u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+U+') format("woff2");unicode-range:u+1f??}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+G+') format("woff2");unicode-range:u+0370-03ff}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+V+') format("woff2");unicode-range:u+0102-0103,u+0110-0111,u+0128-0129,u+0168-0169,u+01a0-01a1,u+01af-01b0,u+1ea0-1ef9,u+20ab}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+W+') format("woff2");unicode-range:u+0100-024f,u+0259,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;font-display:swap;src:url('+J+') format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+H+') format("woff2");unicode-range:u+0460-052f,u+1c80-1c88,u+20b4,u+2de0-2dff,u+a640-a69f,u+fe2e-fe2f}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+K+') format("woff2");unicode-range:u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+Q+') format("woff2");unicode-range:u+1f??}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+X+') format("woff2");unicode-range:u+0370-03ff}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+Y+') format("woff2");unicode-range:u+0102-0103,u+0110-0111,u+0128-0129,u+0168-0169,u+01a0-01a1,u+01af-01b0,u+1ea0-1ef9,u+20ab}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+Z+') format("woff2");unicode-range:u+0100-024f,u+0259,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url('+tt+') format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+et+') format("woff2");unicode-range:u+0460-052f,u+1c80-1c88,u+20b4,u+2de0-2dff,u+a640-a69f,u+fe2e-fe2f}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+ot+') format("woff2");unicode-range:u+0400-045f,u+0490-0491,u+04b0-04b1,u+2116}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+nt+') format("woff2");unicode-range:u+1f??}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+at+') format("woff2");unicode-range:u+0370-03ff}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+it+') format("woff2");unicode-range:u+0102-0103,u+0110-0111,u+0128-0129,u+0168-0169,u+01a0-01a1,u+01af-01b0,u+1ea0-1ef9,u+20ab}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+st+') format("woff2");unicode-range:u+0100-024f,u+0259,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url('+ut+') format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}',""]),t.exports=B},289:function(t,e,o){t.exports=o.p+"fonts/Barlow_Condensed-700-vietnamese1.e7a7da3.woff2"},290:function(t,e,o){t.exports=o.p+"fonts/Barlow_Condensed-700-latin-ext2.6b75399.woff2"},291:function(t,e,o){t.exports=o.p+"fonts/Barlow_Condensed-700-latin3.2e72cf1.woff2"},292:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-cyrillic-ext4.12d3704.woff2"},293:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-cyrillic5.48e4b37.woff2"},294:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-greek-ext6.04e0583.woff2"},295:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-greek7.7c6b44c.woff2"},296:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-vietnamese8.af9afdc.woff2"},297:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-latin-ext9.a29236e.woff2"},298:function(t,e,o){t.exports=o.p+"fonts/Roboto-300-latin10.0109a2a.woff2"},299:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-cyrillic-ext11.493afe7.woff2"},300:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-cyrillic12.5e49381.woff2"},301:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-greek-ext13.bb723e8.woff2"},302:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-greek14.1cbfc63.woff2"},303:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-vietnamese15.c0bec65.woff2"},304:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-latin-ext16.c3dcdbd.woff2"},305:function(t,e,o){t.exports=o.p+"fonts/Roboto-400-latin17.4673b45.woff2"},306:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-cyrillic-ext18.b816cda.woff2"},307:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-cyrillic19.0334efc.woff2"},308:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-greek-ext20.9674bc0.woff2"},309:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-greek21.3292e83.woff2"},310:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-vietnamese22.3096f18.woff2"},311:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-latin-ext23.bcf37d6.woff2"},312:function(t,e,o){t.exports=o.p+"fonts/Roboto-700-latin24.0682ca7.woff2"},313:function(t,e,o){"use strict";o(188)},314:function(t,e,o){var n=o(18),r=o(138),f=o(315),c=n(!1),l=r(f);c.push([t.i,".wrapper[data-v-34a35dec]{display:flex}.main[data-v-34a35dec]{padding:3rem;height:100%}.side-hero[data-v-34a35dec]{width:60%;height:100vh;background-image:url("+l+");background-size:cover;background-position:bottom;background-repeat:no-repeat}",""]),t.exports=c},315:function(t,e,o){t.exports=o.p+"img/dashboard-auth-bg.a6da32d.jpg"},316:function(t,e,o){"use strict";o(189)},317:function(t,e,o){var n=o(18)(!1);n.push([t.i,"footer[data-v-ebe5f1a4]{width:100%;color:#fff;background-color:#000;margin:0;padding:6rem 20% 2rem}.footer--wrapper[data-v-ebe5f1a4]{margin:auto;display:flex;justify-content:space-between}.footer-logo .logo[data-v-ebe5f1a4]{height:92px;filter:invert(1)}.footer-links[data-v-ebe5f1a4]{display:flex;flex-direction:column;text-align:right}.footer-links a[data-v-ebe5f1a4]{font-size:1.25rem;font-weight:700;margin-bottom:1rem}.footer-legal[data-v-ebe5f1a4]{margin-top:4rem;text-align:center}",""]),t.exports=n},318:function(t,e,o){"use strict";o(190)},319:function(t,e,o){var n=o(18)(!1);n.push([t.i,".dashboard--wrapper[data-v-92659e9e]{display:flex;height:100vh;width:100vw;overflow:hidden}.dashboard--main[data-v-92659e9e]{display:flex;flex-direction:column;width:100%;height:100%}.dashboard--content[data-v-92659e9e]{background:#f6f6f6;width:100%;height:100%;padding:3rem;overflow-y:auto}",""]),t.exports=n},320:function(t,e,o){t.exports=o.p+"img/logo.0a82faf.png"},321:function(t,e,o){"use strict";o(191)},322:function(t,e,o){var n=o(18)(!1);n.push([t.i,'.sidebar--wrapper[data-v-3e207750]{display:flex;flex-direction:column;width:15vw;flex-shrink:0;height:100%;overflow-y:auto;color:#fff;background:#0050b3;background:linear-gradient(300deg,#0050b3,#0172ff)}h3[data-v-3e207750]{text-transform:uppercase;font-size:.8rem;letter-spacing:.05rem;margin-left:1rem}ul[data-v-3e207750]{padding:0;margin:0;list-style-type:none}a[data-v-3e207750]{display:inline-block;padding:1rem 1.5rem;width:100%;transition:background .3s ease}a.nuxt-link-exact-active[data-v-3e207750],a[data-v-3e207750]:hover{background:#4096ff}ion-icon[data-v-3e207750]{margin-right:1rem;font-size:18px;vertical-align:middle}.sidebar--header[data-v-3e207750]{display:flex;align-items:center}.sidebar--header.nuxt-link-exact-active[data-v-3e207750]{background:unset;box-shadow:unset}.sidebar--header h1[data-v-3e207750]{font-size:2rem;font-family:"Barlow Condensed",sans-serif;margin:1rem 0}.sidebar--logo[data-v-3e207750]{height:40px;margin:0 .5rem 0 0}',""]),t.exports=n},323:function(t,e,o){"use strict";o(192)},324:function(t,e,o){var n=o(18)(!1);n.push([t.i,".navbar--wrapper[data-v-3d54d0ad]{width:100%;display:flex;justify-content:flex-end;padding:1rem;align-items:center;border-bottom:1px solid #ccc}.my-account[data-v-3d54d0ad]{display:inline-block;margin-right:1rem;font-weight:700}.logout-btn[data-v-3d54d0ad]{background:#b00020;color:#fff;transition:background .25s ease;border-radius:3px;border:none;margin:0;padding:.75rem 1rem;font-weight:700;font-size:1rem;cursor:pointer;text-align:center}.logout-btn[data-v-3d54d0ad]:focus,.logout-btn[data-v-3d54d0ad]:hover{background:#e61400}",""]),t.exports=n},325:function(t,e,o){"use strict";o(193)},326:function(t,e,o){var n=o(18)(!1);n.push([t.i,"nav[data-v-4104eaf0]{width:100vw;padding:1rem 20vw;display:flex;align-items:center}.logo[data-v-4104eaf0]{height:64px;margin:0}",""]),t.exports=n},327:function(t,e,o){"use strict";o(194)},328:function(t,e,o){var n=o(18)(!1);n.push([t.i,"nav[data-v-722717ae]{width:100vw;padding:1rem 20vw;display:flex;justify-content:space-between;align-items:center;font-size:1.2rem;font-weight:500;letter-spacing:.1px}.logo[data-v-722717ae]{height:64px;margin:0}.nav-center[data-v-722717ae],.nav-end[data-v-722717ae],.nav-start[data-v-722717ae]{display:flex;align-items:center}.nav-link[data-v-722717ae]{margin-right:1.5rem}.login-btn[data-v-722717ae],.nav-link[data-v-722717ae]{font-size:1rem;font-weight:700}.login-btn[data-v-722717ae]{background:#ff5140;color:#fff;transition:background .25s ease;border-radius:3px;margin:0;padding:.75rem 1rem;text-align:center;cursor:pointer;background:#fafafa;color:#000;border:1px solid #ff5140;transition:background .25s ease,color .25s ease}.login-btn[data-v-722717ae]:focus,.login-btn[data-v-722717ae]:hover{background:#e61400}.login-btn[data-v-722717ae]:hover{background:#ff5140;color:#fff}.login-btn[data-v-722717ae]:focus{border-color:#e61400}.make-request-btn[data-v-722717ae]{background:#ff5140;color:#fff;transition:background .25s ease;border-radius:3px;border:none;padding:.75rem 1rem;text-align:center;font-weight:700;font-size:1rem;cursor:pointer;margin:0 0 0 1rem}.make-request-btn[data-v-722717ae]:focus,.make-request-btn[data-v-722717ae]:hover{background:#e61400}",""]),t.exports=n},329:function(t,e,o){"use strict";o(195)},330:function(t,e,o){var n=o(18)(!1);n.push([t.i,".tiny-top-nav[data-v-fd6477fc]{width:100vw;padding:.5rem 20vw;display:flex;justify-content:flex-end;align-items:center;font-size:1rem;color:#fff;background-color:#000}.primary-bg[data-v-fd6477fc]{background:#e61400}",""]),t.exports=n},331:function(t,e,o){"use strict";o(196)},332:function(t,e,o){var n=o(18)(!1);n.push([t.i,"#my-account-dropdown a{display:block;padding:1rem;margin-bottom:.5rem;border-radius:3px;font-size:1rem;transition:background .25s ease}#my-account-dropdown a:hover{background:#e1e1e1}#my-account-dropdown .my-account-btn{background:#4096ff;color:#fff;transition:background .25s ease;border-radius:3px;border:none;margin:0;padding:.75rem 1rem;text-align:center;font-weight:700;font-size:1rem;cursor:pointer}#my-account-dropdown .my-account-btn:focus,#my-account-dropdown .my-account-btn:hover{background:#0050b3}#my-account-dropdown .logout-btn{background:#b00020;color:#fff;transition:background .25s ease;border-radius:3px;border:none;margin:0;padding:.75rem 1rem;font-weight:700;font-size:1rem;cursor:pointer;text-align:center;width:100%}#my-account-dropdown .logout-btn:focus,#my-account-dropdown .logout-btn:hover{background:#e61400}",""]),t.exports=n},333:function(t,e,o){"use strict";o(197)},334:function(t,e,o){var n=o(18)(!1);n.push([t.i,".dropdown[data-v-211c7d42]{position:relative;display:inline-block}.dropdown:hover .dropdown-content[data-v-211c7d42]{display:block}.dropdown-btn[data-v-211c7d42]:hover{cursor:pointer}.dropdown-btn-default[data-v-211c7d42]{background:#ff5140;color:#fff;transition:background .25s ease;border-radius:3px;border:none;margin:0;padding:.75rem 1rem;text-align:center;font-weight:700;font-size:1rem;cursor:pointer}.dropdown-btn-default[data-v-211c7d42]:focus,.dropdown-btn-default[data-v-211c7d42]:hover{background:#e61400}.dropdown-content[data-v-211c7d42]{display:none;position:absolute;left:-50%;min-width:300px;padding:1rem;border-radius:3px;background-color:#fafafa;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.show-dropdown[data-v-211c7d42]{display:block}",""]),t.exports=n},353:function(t,e,o){"use strict";o.r(e);o(31),o(24),o(30),o(11),o(36),o(20),o(37);var n=o(15),r=o(23);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={computed:c(c({},Object(r.d)(["user"])),{},{isAdmin:function(){return this.user.isAdmin}})},d=(o(321),o(8)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar--wrapper"},[e("nuxt-link",{staticClass:"sidebar--header",attrs:{to:"/dashboard"}},[e("img",{staticClass:"sidebar--logo",attrs:{src:o(320),alt:"Logo eCollectivités"}}),t._v(" "),e("h1",[t._v("Tableau de bord")])]),t._v(" "),e("h3",[t._v("Général")]),t._v(" "),e("ul",[e("li",[e("nuxt-link",{attrs:{to:"/dashboard"}},[e("ion-icon",{attrs:{name:"analytics"}}),t._v("Vue d'ensemble")],1)],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/dashboard/inbox"}},[e("ion-icon",{attrs:{name:"mail-unread"}}),t._v("Boite de réception")],1)],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/dashboard/annuaire"}},[e("ion-icon",{attrs:{name:"contacts"}}),t._v("Annuaire")],1)],1)]),t._v(" "),t.isAdmin?e("h3",[t._v("Administration")]):t._e(),t._v(" "),t.isAdmin?e("ul",[e("li",[e("nuxt-link",{attrs:{to:"/dashboard/admin/ajouter-agent"}},[e("ion-icon",{attrs:{name:"person-add"}}),t._v("Ajouter agent\n      ")],1)],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/dashboard/admin/gerer-agent"}},[e("ion-icon",{attrs:{name:"people"}}),t._v("Gérer agents")],1)],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/dashboard/admin/gerer-collectivite"}},[e("ion-icon",{attrs:{name:"business"}}),t._v("Gérer collectivité\n      ")],1)],1)]):t._e(),t._v(" "),e("h3",[t._v("Mon compte "),e("ion-icon",{attrs:{name:"open"}})],1),t._v(" "),e("ul",[e("li",[e("nuxt-link",{attrs:{to:"/mon-compte/mes-requetes",target:"_blank"}},[e("ion-icon",{attrs:{name:"mail"}}),t._v("Mes requêtes\n      ")],1)],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/mon-compte/nouvelle-requete",target:"_blank"}},[e("ion-icon",{attrs:{name:"send"}}),t._v("Faire une requête\n      ")],1)],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/mon-compte",target:"_blank"}},[e("ion-icon",{attrs:{name:"contact"}}),t._v("Modifier mes informations\n      ")],1)],1)])],1)}),[],!1,null,"3e207750",null);e.default=component.exports},354:function(t,e,o){"use strict";o.r(e);o(31),o(24),o(30),o(11),o(36),o(20),o(37);var n=o(15),r=o(23);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var c={methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.b)(["logout"]))},l=c,d=(o(323),o(8)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar--wrapper"},[e("nuxt-link",{staticClass:"my-account",attrs:{to:"/mon-compte",target:"_blank"}},[t._v("\n    Mon compte "),e("ion-icon",{attrs:{name:"open"}})],1),t._v(" "),e("button",{staticClass:"logout-btn",on:{click:function(e){return t.logout()}}},[t._v("Se déconnecter")])],1)}),[],!1,null,"3d54d0ad",null);e.default=component.exports},355:function(t,e,o){"use strict";o.r(e);o(31),o(24),o(30),o(11),o(36),o(20),o(37);var n=o(15),r=o(23);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={computed:c(c({},Object(r.c)(["isLoggedIn"])),Object(r.d)(["user"]))},d=(o(327),o(8)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("header",[e("TinyTopNav",{attrs:{isLoggedIn:t.isLoggedIn,isAgent:null!=t.user&&t.user.isAgent}}),t._v(" "),e("nav",[e("div",{staticClass:"nav-start"},[e("nuxt-link",{attrs:{to:"/"}},[e("img",{staticClass:"logo",attrs:{src:o(112),alt:"Logo eCollectivités"}})])],1),t._v(" "),e("div",{staticClass:"nav-center"},[e("nuxt-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Accueil")]),t._v(" "),e("nuxt-link",{staticClass:"nav-link",attrs:{to:"/a-propos"}},[t._v("À propos")]),t._v(" "),e("nuxt-link",{staticClass:"nav-link",attrs:{to:"/nous-contacter"}},[t._v("Nous contacter")])],1),t._v(" "),e("div",{staticClass:"nav-end"},[t.isLoggedIn?e("MyAccountButton"):e("nuxt-link",{staticClass:"login-btn",attrs:{to:"/connexion"}},[t._v("Se connecter")]),t._v(" "),e("nuxt-link",{staticClass:"make-request-btn",attrs:{to:"/mon-compte/nouvelle-requete"}},[t._v("Faire une requête")])],1)])],1)}),[],!1,null,"722717ae",null);e.default=component.exports;installComponents(component,{TinyTopNav:o(356).default,MyAccountButton:o(357).default})},356:function(t,e,o){"use strict";o.r(e);var n={props:{isLoggedIn:{type:Boolean,default:!1},isAgent:{type:Boolean,default:!1}}},r=(o(329),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return t.isAgent||!t.isLoggedIn?e("div",{class:{"tiny-top-nav":!0,"primary-bg":t.isAgent}},[t.isAgent?e("nuxt-link",{attrs:{to:"/dashboard"}},[e("span",{staticClass:"bold"},[t._v("Agent connecté |")]),t._v(" Se rendre au tableau de bord\n  ")]):e("nuxt-link",{attrs:{to:"/dashboard/connexion"}},[e("span",{staticClass:"bold"},[t._v("Agent de collectivités ?")]),t._v(" S'identifier\n  ")])],1):t._e()}),[],!1,null,"fd6477fc",null);e.default=component.exports},357:function(t,e,o){"use strict";o.r(e);o(31),o(24),o(30),o(11),o(36),o(20),o(37);var n=o(15),r=o(23);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var c={methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.b)(["logout"]))},l=c,d=(o(331),o(8)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("BaseDropdown",{attrs:{id:"my-account-dropdown",label:"Mon Compte",classList:["my-account-btn"]}},[e("nuxt-link",{attrs:{to:"/mon-compte/mes-requetes"}},[t._v("Mes requêtes")]),t._v(" "),e("nuxt-link",{attrs:{to:"/mon-compte/nouvelle-requete"}},[t._v("Faire une requête")]),t._v(" "),e("nuxt-link",{attrs:{to:"/mon-compte"}},[t._v("Modifier mes informations")]),t._v(" "),e("button",{staticClass:"logout-btn",on:{click:function(e){return t.logout()}}},[t._v("Se déconnecter")])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseDropdown:o(358).default})},358:function(t,e,o){"use strict";o.r(e);o(11),o(20),o(49),o(38),o(51),o(39),o(33),o(24),o(52),o(53),o(40);var n=o(206);function r(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw r}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var c={props:{label:{type:String,required:!0},classList:{type:Array,default:function(){return["dropdown-btn-default"]}}},data:function(){return{dropdownContentId:null}},mounted:function(){if(this.dropdownContentId=Object(n.a)(),this.classList){var t=this.$el.querySelector(".dropdown-btn");this.classList.forEach((function(e){t.classList.add(e)}))}null===window.onclick&&(window.onclick=function(t){if(!t.target.matches(".dropdown-btn")){var e,o=r(document.getElementsByClassName("dropdown-content"));try{for(o.s();!(e=o.n()).done;){var n=e.value;n.classList.contains("show-dropdown")&&n.classList.remove("show-dropdown")}}catch(t){o.e(t)}finally{o.f()}}})},methods:{showDropdown:function(){var t,e=r(document.getElementsByClassName("dropdown-content"));try{for(e.s();!(t=e.n()).done;){var o=t.value;o.id!==this.dropdownContentId&&o.classList.contains("show-dropdown")&&o.classList.remove("show-dropdown")}}catch(t){e.e(t)}finally{e.f()}document.getElementById(this.dropdownContentId).classList.toggle("show-dropdown")}}},l=(o(333),o(8)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropdown-btn",on:{click:function(e){return e.preventDefault(),t.showDropdown()}}},[t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),e("div",{staticClass:"dropdown-content",attrs:{id:t.dropdownContentId}},[t._t("default")],2)])}),[],!1,null,"211c7d42",null);e.default=component.exports},359:function(t,e,o){"use strict";o.r(e),o.d(e,"state",(function(){return l})),o.d(e,"getters",(function(){return d})),o.d(e,"mutations",(function(){return m})),o.d(e,"actions",(function(){return v}));var n=o(9),r=(o(48),o(107)),f=o(108),c=(o(68),function(){function t(e){var o=e.userId,n=e.firstname,f=e.lastname,c=e.role,l=e.phone,d=e.email,m=e.collectId;Object(r.a)(this,t),this.id=o,this.firstname=n,this.lastname=f,this.role=c,this.phone=l,this.email=d,this.collectId=m}return Object(f.a)(t,[{key:"isAgent",get:function(){return["AGENT","ADMIN"].includes(this.role)}},{key:"isAdmin",get:function(){return"ADMIN"===this.role}}]),t}()),l=function(){return{user:null}},d={isLoggedIn:function(t,e){return null!=e.token},token:function(){return localStorage.getItem("token")},loginMethod:function(){return localStorage.getItem("method")}},m={updateUser:function(t,e){t.user=e},removeUser:function(t){t.user=null}},v={login:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,f,c,l,d,m,v,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.commit,f=e.method,c=e.phone,l=e.verifyToken,d=e.email,m=e.password,n.prev=2,"phone"!==f){n.next=10;break}return h={Authorization:"Bearer ".concat(l)},n.next=7,o.$axios.$post("/auth/login",{method:"phone",phone:c},{headers:h});case 7:case 13:v=n.sent,n.next=17;break;case 10:if("email"!==f){n.next=16;break}return n.next=13,o.$axios.$post("/auth/login",{method:"email",email:d,password:m});case 16:throw new Error("Invalid login method");case 17:n.next=24;break;case 19:if(n.prev=19,n.t0=n.catch(2),403!==n.t0.response.status){n.next=23;break}return n.abrupt("return",{loggedIn:!1,expiredPassword:!0});case 23:return n.abrupt("return",{loggedIn:!1});case 24:return r("updateUser",v),localStorage.setItem("token",v.token),localStorage.setItem("method",f),n.abrupt("return",{loggedIn:!0});case 28:case"end":return n.stop()}}),n,null,[[2,19]])})))()},sendVerificationCode:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.phone,t.next=3,o.$axios.$post("/auth/verify/verification",{phone:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},checkVerificationCode:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,code;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.phone,code=e.code,t.next=3,o.$axios.$post("/auth/verify/verification-check",{phone:n,code:code});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},fetchUser:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,f,l,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,f=e.token,n.prev=2,l={Authorization:"Bearer ".concat(f)},n.next=6,o.$axios.$get("/me",{headers:l});case 6:return d=n.sent,m=new c(d),r("updateUser",m),n.abrupt("return",m);case 12:return n.prev=12,n.t0=n.catch(2),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})))()},logout:function(t){(0,t.commit)("removeUser"),localStorage.removeItem("token"),localStorage.removeItem("method"),window.location.reload()}}}},[[219,30,1,31]]]);