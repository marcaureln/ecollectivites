(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{451:function(e,t,r){"use strict";r.r(t);r(137),r(31),r(24),r(30),r(36),r(20),r(37);var n=r(15),o=r(9),c=(r(216),r(11),r(48),r(23));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={layout:"dashboard",asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,d,l,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,n=e.store,o=e.error,t.prev=1,c={Authorization:"Bearer ".concat(n.getters.token)},t.next=5,r.$get("/collectivites/".concat(n.state.user.collectId,"/requests"),{headers:c});case 5:return d=t.sent,t.next=8,r.$get("/requests/types");case 8:return l=t.sent,t.next=11,r.$get("/requests/status");case 11:return v=t.sent,t.abrupt("return",{requests:d,requestTypes:l,requestStatus:v});case 15:t.prev=15,t.t0=t.catch(1),o(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},head:function(){return{title:"Boite de réception — Dashboard eCollectivités"}},computed:l(l({},Object(c.d)({userCollectId:"collectId",userId:"userId"})),Object(c.c)(["token"])),methods:{requestStatusLabel:function(e){return this.requestStatus.find((function(t){return t.reqStatusId===e})).reqStatusLabel},requestTypeLabel:function(e){return this.requestTypes.find((function(t){return t.reqTypeId===e})).reqTypeLabel}}},f=r(8),component=Object(f.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"inbox--wrapper"},[t("h1",[e._v("Boite de réception")]),e._v(" "),t("table",[e._m(0),e._v(" "),t("tbody",e._l(e.requests,(function(r){return t("tr",{key:r.reqId},[t("td",[e._v(e._s(r.reqId.split("-").join("")))]),e._v(" "),t("td",[e._v(e._s(e.requestTypeLabel(r.reqTypeId)))]),e._v(" "),t("td",[e._v(e._s(new Date(r.reqCreatedAt).toLocaleDateString()))]),e._v(" "),t("td",{staticClass:"status"},[e._v(e._s(e.requestStatusLabel(r.reqStatusId)))]),e._v(" "),t("td",[t("nuxt-link",{attrs:{to:"/dashboard/inbox/"+r.reqId}},[e._v("Voir")])],1)])})),0)])])}),[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("td",[e._v("ID")]),e._v(" "),t("td",[e._v("Type Requête")]),e._v(" "),t("td",[e._v("Date de soumission")]),e._v(" "),t("td",[e._v("Statut")]),e._v(" "),t("td")])])}],!1,null,"640cb70c",null);t.default=component.exports}}]);